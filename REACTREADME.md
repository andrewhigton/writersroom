left
1 how to post online? heroku? build? TODO
4 add a messageboard on homepage

to fix
1 posted stories are goign to the topics collection DONE
2 dates not appearing. why not? DONE 
2 FIXED the posted on by literal DONE
3 what is this passowrd compromise thing? DONE
6 edit posts? TODO NO
7 return to topics page after adding one DONE
7 return to story page after crit posted DONE
8 also, last topics first, stack DONE
9 when you register, send to homepage, or to the link that was clicked?? DONE
10 how to get asnc disptach to work with props DONE
11 why did it not work in addTopics action? DONE
12 fix comments on topics page TOO MUCH WORK
13 also on stories page, plus layout? DONE 
14 SIGN OUT go to home page DONE 
15 links wrong for topic and story posts DONE/FINE??
16 remove thread on media screen DONE

4 clear up all the console problems DONE
5 what is the proxy error problem? DONE 

<!-- {
  "type": "service_account",
  "project_id": "writer-818e0",
  "private_key_id": "19e910771f7f5928f55b263c728e7cf30b1df538",
  "private_key": "-----BEGIN PRIVATE KEY-----\nMIIEvAIBADANBgkqhkiG9w0BAQEFAASCBKYwggSiAgEAAoIBAQCTKsPK0Jl9EwUP\n4SyxAAQghU9kVGmmp7WDzaqvl3wJNGCCcBPM8e+o5IrApW9NZsbSAoAyZCIjVpqZ\nNh3VAv8+oJrzdf/4d74qmL9S2pSgdafU7oEO9HIbViTL5xk/r0bl5T1JvoWrJMxW\nZIt1b11bey0WnYJDBrxc31a0x5yWILgGBANTx43ZMH6r1U3KOANw7z3k/i19C0II\nxCLi+Jxm88VvxkwNqDweyD0PoORTs1KMD0rmdsCJk6OcN5DqFwLcOwIhVON12m+N\nD2UH2JCxUeKcJBt+v+2B/lZzeiscR7ZmgL3VXZq4+ShgPjSLMW1CflUrxmaQu9qZ\nHAplf50hAgMBAAECggEABhSVf9b0DIShaClNyydcxEo1wEezkMjrmT1BYN1hqNCy\n7xi53LUfSYtdxz1elqRZMRqc2Nglx+9/Vjaz71XfHWON22LD92xdHU3v07jHvMR3\nsXbEOs2zPDloLkuHUcgIZh29VUNrqulLjwM69thp00qIz58k32eTF0Q8BR6dM9+o\npuhCbNT9J+MGCgU+3jUcT0bwUQp8A8MH0XuCrH03PZE9juQlmD7FWhye7HSbfwRa\nk/C3H2T3jOnHiegMxurXIw33u6FXaX0AQ974eM40Bgy8jI3vLUhECHaoEtIl7VI3\n9VKhu+nmtfQVJrZGP4BDVwJekNw6a8frVKJNDnBulQKBgQDH++u7Zro/wIFsCQh8\nX38U96aUCh/Wj1U7v8A2cW4U3Yl9V/yM4ABjWdfDY8X7+0cwNIhQh09LBNd0hmD4\ntx6u/FjtZYjEI7Ixz7zwsi7X4eS70QhmmG8LxmqlE6n1GOeDtatLphHu3ii55ICK\nYwYtdniQ3zCNPIik8AxUosKJDQKBgQC8Y4qTgTu6H8H3AF8EMO9K2nN1jPvI2o/M\nO/wJwITb178HJxu9rQSz7pyovymkqgcO6Lff6azpjuoi91bxi7YqbVuEvBLubzbA\n1gvqjwjHIiCV7OKs0cIXY1mXqRxdrVPVa3Q582O4iYzMqwUGbcyUON6YVqBdKzsF\nxORYBZT3ZQKBgHE0D6rTadawuBJZwq30uNE7ptXiLUedd1gNIVcwOmohRbToW5O7\nMT0MHHEER4xuH0wQUKGVFrOWmAfkEXx43CuduREZCqRMuJAt0fxGQPH/cyVGHIVH\nAIUf2jp7uRd+837BFagK59fZdiBUUtcDWvndOD55uNgaThdfsvst7wT5AoGAY++y\nPZma45uhO7S4svJ6nozQHxXRI7W9/qv7gfjdAfqrXdIDR1WXXxQ/is0N/EouQFx3\n3pKJpcSotC/dsXlaA5vLpthWeqIIu7dQzvddwrV5786gWOlVOy77Ahc18wPVqyu7\nllplFinxxUkb+1MX6bFZdBrQK1yZjO/r6j3bznkCgYBLqD9NVmEnd3afJgnlJ+mH\nLJPqD4+0S489voD/OWW3m2x3cD3OUGgzxSwcIpQr5wsvz+bu9Y+EbyAcRtdfGtlX\n2LNEtgMYXrDcYWXYKF0buXok9w/WenDnKVls/FAcpZvBF/StRYXBKsFrqhrTFoXj\n6P4JMrMERw67kdAkJg0pbw==\n-----END PRIVATE KEY-----\n",
  "client_email": "firebase-adminsdk-4sy1i@writer-818e0.iam.gserviceaccount.com",
  "client_id": "109902553630616448462",
  "auth_uri": "https://accounts.google.com/o/oauth2/auth",
  "token_uri": "https://oauth2.googleapis.com/token",
  "auth_provider_x509_cert_url": "https://www.googleapis.com/oauth2/v1/certs",
  "client_x509_cert_url": "https://www.googleapis.com/robot/v1/metadata/x509/firebase-adminsdk-4sy1i%40writer-818e0.iam.gserviceaccount.com"
}
 -->



so functional componentw can't have lifecycle methods, because they are a method, and can only exist on a class. not a function


this was my component from topics, in writer
constructor(props) {
  super(props);

    this.state = {
    	posts: [],
    	title: '',
    	inputValue: ''
    };
      this.handleChange = this.handleChange.bind(this);
      this.handleSubmit = this.handleSubmit.bind(this);	
  }

	componentDidMount() {
	const threadRef = firestore.collection('threads')
	let allThreads = threadRef.get()
	  .then(snapshot => {
	    snapshot.forEach(doc => {
	      console.log(doc.id, '=>', doc.data());
	    });
	  })
	  .catch(err => {
	    console.log('Error getting documents', err);
	  });
	}

  handleChange(event) {
    event.preventDefault();
    this.setState({[event.target.name]: [event.target.value] });
  }

  handleSubmit(event) {
 	let data = {
	  title: this.state.title,
	  text: this.state.inputValue,
	  date: new Date()
	};

   event.preventDefault();
	   this.setState({posts: [...this.state.posts, data] }); 
	   firestore.collection('threads').doc().set(data);
	   this.setState({inputValue: '', title: ''})
	 
  	}



if component not loading on first click from database call

use async dispatch, then await the return 



Why does z-index not work?
https://stackoverflow.com/questions/9191803/why-does-z-index-not-work
ensure all elements have a position property



this was from topics.actions.tests

import configureMockStore from 'redux-mock-store';
import thunkMiddleware from 'redux-thunk';
import * as actions from './topics.actions';
import { firestore } from '../../firebase/firebase.utils';
const nock = require('nock')
import { 
  GET_TOPICS,
  GET_TOPIC,
  ADD_TOPIC,
  CLEAR_TOPICS,
  GET_TOPIC_COMMENTS
} from './topics.types';

const mockStore = configureMockStore([thunkMiddleware])
  
  it('it should create an action to GET_TOPICS', () => {
    const text = [{
      key: '1',
          title: 'andfd',
          text: 'qwer',
          user: 'andrew', 
          date: 'dec 5 1972'
    }]

    const store = mockStore();
    store.dispatch(actions.getAllTopics());
    const action = store.getActions();
    console.log('action', action)
    const expectedAction = [{
      type: GET_TOPICS,
      payload: []
    }]
    
    expect(action).toEqual(expectedAction)
  })

  // it('it should return an api call from firestore', () => {
    
  //  const query = nock('https://console.firebase.google.com/project/writer-818e0/database/firestore/data~2Ftopics')
  //    .get('/~2F12iHHVIAZ43TPrl9ZMUx')
  //    .reply(200, { 
  //        key: '1',
  //          title: 'andfd',
  //          text: 'qwer',
  //          user: 'andrew', 
  //          date: 'dec 5 1972' 
  //        }
  //    expect(query).toEqual({ 
  //        key: '1',
  //          title: 'andfd',
  //          text: 'qwer',
  //          user: 'andrew', 
  //          date: 'dec 5 1972' 
  //        })    
  //      })
    
  
    
    // return query 
    // actions.getAllTopics()
    //     .then(res => res.topics[0])
    //     .then(res => expect(res).toEqual({ 
    //      key: '1',
    //         title: 'andfd',
    //         text: 'qwer',
    //         user: 'andrew', 
    //         date: 'dec 5 1972' 
    //      }));
      // })


//    const mockFunc = () => [{
//      key: '1',
//          title: 'andfd',
//          text: 'qwer',
//          user: 'andrew', 
//          date: 'dec 5 1972'
//    }]

//    const text = mockFunc();

//    const expectedAction = {
//      type: GET_TOPICS,
//      payload: text
//    }
    
//    expect(actions.getAllTopics()).toEqual(expectedAction)
//  })


//  //problem here was sending async. removed the async, now there's an empty array
  
//  // it('should create an action GET_TOPICS', () => {


// //     let topics = {
// //     date: "6 July 2020 at 20:13:20 UTC+1",
// //     text: "is a better film than the first",
// //     title: "br 2049",
// //     user: "tom"
// //     };

//     const request = nock('https://writer-818e0.firebaseio.com')
    

//      request.get('/database/firestore/data~2Ftopics~2F12iHHVIAZ43TPrl9ZMUx')
//      .reply(200, {
//        topics: 
//        }
//      )


//    const store = mockStore();
//    store.dispatch(actions.getAllTopics(topics));
//    //console.log(actions)
//    const action = store.getActions();
//    console.log('action', action)
//    const expectedAction = {
//      type: GET_TOPICS,
//      payload: {
//      date: "6 July 2020 at 20:13:20 UTC+1",
//      text: "is a better film than the first",
//      title: "br 2049",
//      user: "tom"
//        }
//      }
//    // expect(action[0]).toEqual(expectedAction)
//    expect(action).toEqual(expectedAction)
//  })
// // })


from story.test

import { shallow } from 'enzyme';
import React from 'react';
import { Provider } from 'react-redux';
import renderer from 'react-test-renderer';
import configureMockStore from 'redux-mock-store'
import thunkMiddleware from 'redux-thunk'
import { render, fireEvent, screen } from '../../test-utils'
import Story from './story.component';
export const mockStore = configureMockStore([thunkMiddleware]);


it('expect to render Story component', () => {
    const initialState = {
      story: null,
    };
    render(<Story />, { initialState: { setCurrentUser: null } })
      expect(shallow(<Story/>)).toMatchSnapshot()
})

//   it('Renders the connected app with initialState', () => {
//  const initialState = {
//      setCurrentUser: null
//    };

//   render(<App />, { initialState: { setCurrentUser: null } })

//   expect(shallow(<App/>)).toMatchSnapshot()
//   })
// test('some test', () => {
// describe('<Story />', () => {
//   it('renders <Story /> component', () => {
//     const wrapper = shallow(<Story />, {
//      context: { store: mockStore }
//     });
//     expect(wrapper.find(Story)).to.have.lengthOf(1);
//   });
//});



this from topics.reducers.test

// import configureMockStore from 'redux-mock-store';
// import thunkMiddleware from 'redux-thunk';
// const mockStore = configureMockStore([thunkMiddleware])

import { 
  GET_TOPICS,
  GET_TOPIC,
  ADD_TOPIC,
  CLEAR_TOPICS,
  GET_TOPIC_COMMENTS
  } from './topics.types';

import topicsReducer from './topics.reducer';

describe('topicsReducer', () => {

  const initialState = {
    topic: null,
    topics: [],
    comments: [],
    loading: true 
    }
  
  const mockState = {
    topic: null,
    topics: [{
      key: 1,
          title: 'sddsf',
          text: 'sdfdsf',
          user: 'bob', 
          date: 'dec 12'
    }],
    comments: [],
    loading: false  
    }
  
  it('should return initial state', () => {
    expect(topicsReducer(initialState, {})).toEqual(initialState)
    }) 
  
  it('should handle GET_TOPICS', () => {
    expect(topicsReducer(initialState, {
      type: GET_TOPICS,
      payload: [{
        key: 1,
            title: 'sddsf',
            text: 'sdfdsf',
            user: 'bob', 
            date: 'dec 12'
        }]
      })).toEqual(mockState)
    }) 
  })



  sotry and topic item test
  // import { shallow } from 'enzyme';
// import React from 'react';
// import StoryAndTopicItem from './storyAndTopicItem';


// it('expect to render StoryAndTopicItem component', () => {
//  const mockTopic = {
//    topic: {
//      title: 'dfdfd', 
//      text: 'sdsds', 
//      user: 'andt', 
//      key: 1, 
//      date: new Date() 
//    }
//  }

//  const mockStory = {
//    text: 'ttrrrt',
//         id: '1', 
//         user: 'sdsadsa',
//         date: new Date()  
//  }
// expect(shallow(<StoryAndTopicItem topic={mockTopic} storyItem={mockStory}/>)).toMatchSnapshot();
// // expect(shallow(<StoryAndTopicItem topic={mockTopic} storyItem={mockStory}/>)).length().toEqual(1)